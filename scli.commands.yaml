- category: Demo
  description: A collection of demo commands showing how to use the CLI
  commands:
    # basic usage
    - name: basic
      description: Create a command and call it from the CLI e.g. `olcs demo.basic`
      exec: echo "Hello, world!"

    - name: args
      description: >
        Specify an argument to the command for replacement and it can be passed as a command line argument 
        e.g. `olcs demo.args --arg name=Dave`
      exec: echo Hello, {{ name }}
      args:
        - name: name
          prompt: Enter your name

    - name: interactive
      description: >
        Running in interactive mode will present a navigable menu of commands. Where required, users will be 
        prompted for input. Try running `olcs -i` and find this command in the list (Demo > interactive).
      exec: echo {{ name }}, we are running interactively!
      args:
        - name: name
          prompt: Enter your name

    - name: optional
      description: An example of argument substitution
      exec: >
        echo Hello, my name is {{ name }}
        {% if country %} and I live in {{ country }}{% endif %}
      args:
        - name: name
          prompt: Enter your name
        - name: country
          prompt: Enter your country of origin (optional)
          default: ireland

    - name: ListFlavours
      description: List available flavours
      exec: printf "Vanilla, Strawberry, Chocolate\n" | tr ", " "\n"

    - name: SelectFlavour
      description: Ask the user to select a flavour
      pre_command: demo.listflavours
      exec: echo "A {{ flavour }} milkshake, coming right up!"
      args:
        - name: flavour
          prompt: Which flavour do you want?

  # special args
  subcategories:
    - name: Special Args
      commands:

        - name: params
          description: Some parameters can be passed in from the config file (use `olcs -s` to select which config to use)
          exec: echo "The current subscription ID is {{ params.subscription_id }}"

        - name: namespace
          description: >
            Using the 'i_param' (i.e. interactive_parameter) filter will cause the CLI to present options for the user to 
            select for the namespace in interactive mode. The namespace can be overridden on the command line
            e.g. `olcs demo.namespace --arg namespace="-n olcs"`. ** Please note that the namespace must be in quotes **
          exec: echo "You selected the {{ "namespace" | i_param }} namespace"